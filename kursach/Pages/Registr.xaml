<Page x:Class="kursach.Pages.Registr"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:kursach.Pages"
      mc:Ignorable="d" 
      d:DesignHeight="600" d:DesignWidth="850"
      Title="Регистрация" 
      Background="#FFFAFAFA">

    <Grid>
        <!-- Основная карточка регистрации -->
        <Border Background="White" CornerRadius="12" 
                VerticalAlignment="Center" HorizontalAlignment="Center"
                Width="450" Padding="30"
                BorderBrush="#E0E0E0" BorderThickness="1"
                Effect="{StaticResource ShadowEffect}">
            <ScrollViewer VerticalScrollBarVisibility="Auto" 
                          HorizontalScrollBarVisibility="Disabled"
                          Padding="0" Margin="0">
                <StackPanel>
                    <TextBlock Text="Регистрация" 
                               FontSize="24" FontWeight="SemiBold" 
                               Foreground="#333333"
                               HorizontalAlignment="Center" Margin="0,0,0,20"/>

                    <!-- Имя и Фамилия в одной строке -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Имя -->
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Имя" FontSize="13" Foreground="#555555" Margin="0,0,0,3"/>
                            <TextBox x:Name="tbFirstName" Style="{StaticResource ModernTextBox}" 
                                     FontSize="14" Padding="8" Height="38"/>
                        </StackPanel>

                        <!-- Фамилия -->
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Фамилия" FontSize="13" Foreground="#555555" Margin="0,0,0,3"/>
                            <TextBox x:Name="tbLastName" Style="{StaticResource ModernTextBox}" 
                                     FontSize="14" Padding="8" Height="38"/>
                        </StackPanel>
                    </Grid>

                    <!-- Отчество -->
                    <StackPanel Margin="0,0,0,10">
                        <TextBlock Text="Отчество (необязательно)" FontSize="13" Foreground="#555555" Margin="0,0,0,3"/>
                        <TextBox x:Name="tbFatherName" Style="{StaticResource ModernTextBox}" 
                                 FontSize="14" Padding="8" Height="38"/>
                    </StackPanel>

                    <!-- Email и Телефон в одной строке -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Email -->
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Email" FontSize="13" Foreground="#555555" Margin="0,0,0,3"/>
                            <TextBox x:Name="tbEmail" Style="{StaticResource ModernTextBox}" 
                                     FontSize="14" Padding="8" Height="38"/>
                        </StackPanel>

                        <!-- Телефон -->
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Телефон" FontSize="13" Foreground="#555555" Margin="0,0,0,3"/>
                            <TextBox x:Name="tbPhone" Style="{StaticResource ModernTextBox}" 
                                     FontSize="14" Padding="8" Height="38"/>
                        </StackPanel>
                    </Grid>

                    <!-- Роль -->
                    <StackPanel Margin="0,0,0,10">
                        <TextBlock Text="Роль" FontSize="13" Foreground="#555555" Margin="0,0,0,3"/>
                        <ComboBox x:Name="cbRole" Style="{StaticResource ModernComboBox}" 
                                  FontSize="14" Padding="8" Height="38" SelectionChanged="cbRole_SelectionChanged" SelectedIndex="0">
                            <ComboBoxItem Content="Ищу работу" Tag="2"/>
                            <ComboBoxItem Content="Ищу сотруников" Tag="3"/>
                        </ComboBox>
                    </StackPanel>

                    <!-- Пароль и подтверждение в одной строке -->
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Пароль -->
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Пароль" FontSize="13" Foreground="#555555" Margin="0,0,0,3"/>
                            <PasswordBox x:Name="pbPassword" Style="{StaticResource ModernPasswordBox}" 
                                        FontSize="14" Padding="8" Height="38"/>
                        </StackPanel>

                        <!-- Подтверждение -->
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Подтвердите" FontSize="13" Foreground="#555555" Margin="0,0,0,3"/>
                            <PasswordBox x:Name="pbConfirmPassword" Style="{StaticResource ModernPasswordBox}" 
                                        FontSize="14" Padding="8" Height="38"/>
                        </StackPanel>
                    </Grid>

                    <!-- Кнопка регистрации -->
                    <Button Content="Зарегистрироваться" Style="{StaticResource PrimaryButton}"
                            Height="42" FontSize="15" FontWeight="SemiBold"
                            Click="RegisterButton_Click" Margin="0,0,0,10"/>

                    <!-- Ссылка на авторизацию -->
                    <TextBlock HorizontalAlignment="Center" FontSize="13">
                        <Run Text="Уже есть аккаунт? " Foreground="#666666"/>
                        <Hyperlink Click="Login_Click" Foreground="#0078D7" FontWeight="SemiBold">
                            Войти
                        </Hyperlink>
                    </TextBlock>

                    <!-- Блок ошибок -->
                    <Border x:Name="errorBorder" Background="#FFF5F5F5" CornerRadius="4" 
                            Margin="0,10,0,0" Padding="10" Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" 
                                   Fill="#D32F2F" Stretch="Uniform" Width="16" Height="16" Margin="0,0,6,0"/>
                            <TextBlock x:Name="tbError" Foreground="#D32F2F" TextWrapping="Wrap" 
                                       FontSize="13" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Page>